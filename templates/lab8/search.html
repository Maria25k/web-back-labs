{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 8 - –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π{% endblock %}

{% block main %}
<h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: "{{ query }}"</h1>

<a href="/lab8/articles/">
    <button style="margin-bottom: 20px;">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Å—Ç–∞—Ç–µ–π</button>
</a>

{% if results %}
    <div class="article-list">
        {% for article in results %}
            <div class="article-item">
                <div class="article-title">{{ article.title }}</div>
                <div class="article-meta">
                    {% if article.login_id == current_user.id %}
                        üë§ –ú–æ—è —Å—Ç–∞—Ç—å—è | 
                    {% endif %}
                    {% if article.is_favorite %}‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–∞—è | {% endif %}
                    {% if article.is_public %}üåê –ü—É–±–ª–∏—á–Ω–∞—è | {% endif %}
                    üëç {{ article.likes }} –ª–∞–π–∫–æ–≤
                </div>
                <div>{{ article.article_text[:200] }}{% if article.article_text|length > 200 %}...{% endif %}</div>
                
                {% if article.login_id == current_user.id %}
                    <div class="article-actions">
                        <a href="/lab8/edit/{{ article.id }}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        <a href="/lab8/delete/{{ article.id }}" 
                           onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
{% endif %}
{% endblock %}