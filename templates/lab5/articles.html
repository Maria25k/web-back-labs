{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <style>
        .article {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
            background-color: #f9f9f9;
        }
        .article h2 {
            margin-top: 0;
            color: #333;
        }
        .article .meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .no-articles {
            font-style: italic;
            color: #888;
        }
    </style>

    <h1>Мои статьи</h1>

    {% if articles %}
        {% for article in articles %}
            <div class="article">
                <h2>{{ article['title'] }}</h2>
                <div class="meta">
                    ID: {{ article['id'] }} | 
                    Публичная: {{ 'Да' if article['is_public'] else 'Нет' }} | 
                    Избранная: {{ 'Да' if article['is_favorite'] else 'Нет' }} | 
                    Лайков: {{ article['likes'] }}
                </div>
                <div class="text">
                    {{ article['article_text'] | replace('\r\n', '<br>') | safe }}
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p class="no-articles">У вас пока нет статей. <a href="/lab5/create">Создайте первую!</a></p>
    {% endif %}

    <p><a href="/lab5">Вернуться на главную</a></p>
{% endblock %}